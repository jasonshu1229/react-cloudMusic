## åˆ›å»º React18 + TS å·¥ç¨‹é¡¹ç›®

```shell
create-react-app xxx --template typescript
```

## ğŸš€ é¡¹ç›®é…ç½®

- craco è‡ªå®šä¹‰é…ç½®

éœ€è¦å¯¹ create-react-app çš„é»˜è®¤é…ç½®è¿›è¡Œè‡ªå®šä¹‰ï¼Œè¿™é‡Œä½¿ç”¨ `craco`ï¼ˆä¸€ä¸ªå¯¹ create-react-app è¿›è¡Œè‡ªå®šä¹‰é…ç½®çš„ç¤¾åŒºè§£å†³æ–¹æ¡ˆï¼‰

```shell
npm i -D @craco/craco
```

ç”±äº react è„šæ‰‹æ¶ç‰ˆæœ¬è¿‡æ–°ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… alpha ç‰ˆæœ¬

```shell
npm install @craco/craco@alpha -D
```

craco çš„ webpack é…ç½®ä¼šå’Œè„šæ‰‹æ¶çš„ webpack é…ç½®åˆå¹¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨ package.json ä¸­æ”¹æˆï¼š

```json
{
  "scripts": {
    "start": "craco start",
    "build": "craco build",
    "test": "craco test",
    "eject": "react-scripts eject"
  }
}
```

- editorconfig é…ç½®

```yaml
# http://editorconfig.org

root = true

[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨
charset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8
indent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰
indent_size = 2 # ç¼©è¿›å¤§å°
end_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)
trim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦
insert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ

[*.md] # è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™
max_line_length = off
trim_trailing_whitespace = false
```

EditorConfig æœ‰åŠ©äºä¸ºä¸åŒ IDE ç¼–è¾‘å™¨ä¸Šå¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚

- prettier ç¾åŒ–å·¥å…·

Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚

1. å®‰è£… prettier

```shell
npm install prettier -D
```

2. é…ç½®.prettierrc æ–‡ä»¶ï¼š

- useTabsï¼šä½¿ç”¨ tab ç¼©è¿›è¿˜æ˜¯ç©ºæ ¼ç¼©è¿›ï¼Œé€‰æ‹© falseï¼›
- tabWidthï¼štab æ˜¯ç©ºæ ¼çš„æƒ…å†µä¸‹ï¼Œæ˜¯å‡ ä¸ªç©ºæ ¼ï¼Œé€‰æ‹© 2 ä¸ªï¼›
- printWidthï¼šå½“è¡Œå­—ç¬¦çš„é•¿åº¦ï¼Œæ¨è 80ï¼Œä¹Ÿæœ‰äººå–œæ¬¢ 100 æˆ–è€… 120ï¼›
- singleQuoteï¼šä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·ï¼Œé€‰æ‹© trueï¼Œä½¿ç”¨å•å¼•å·ï¼›
- trailingCommaï¼šåœ¨å¤šè¡Œè¾“å…¥çš„å°¾é€—å·æ˜¯å¦æ·»åŠ ï¼Œè®¾ç½®ä¸º `none`ï¼›
- semiï¼šè¯­å¥æœ«å°¾æ˜¯å¦è¦åŠ åˆ†å·ï¼Œé»˜è®¤å€¼ trueï¼Œé€‰æ‹© false è¡¨ç¤ºä¸åŠ ï¼›

```json
{
  "useTabs": false,
  "tabWidth": 2,
  "printWidth": 80,
  "singleQuote": true,
  "trailingComma": "none",
  "semi": false
}
```

3.åˆ›å»º.prettierignore å¿½ç•¥æ–‡ä»¶

```
/build/*
.local
.output.js
/node_modules/**

**/*.svg
**/*.sh

/public/*
```

## å¯èƒ½é‡åˆ°çš„é—®é¢˜

![](https://s2.loli.net/2023/02/28/6OifhjnSbaJGLyw.png)

ä¸Šé¢æŠ¥çš„æ˜¯ ts çš„è¯†åˆ«ä¸åˆ°è·¯å¾„çš„é”™è¯¯ï¼Œéœ€è¦åœ¨ tsconfig.json ä¸‹é…ç½®è·¯å¾„ï¼š

```json
{
  "baseUrl": ".",
  "paths": {
    "@/*": ["src/*"]
  }
}
```

`baseUrl` åŸºäºçš„æ˜¯å½“å‰ç›®å½•ï¼Œé’ˆå¯¹è¿™ä¸ªé¡¹ç›®ä¹Ÿå°±æ˜¯æ ¹ç›®å½•ã€‚
